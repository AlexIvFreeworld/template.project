BX.addCustomEvent("onLoadjqmCustomHandlers",eventdata=>{const el=eventdata.element,value=eventdata.value;let bSpecialization="SPECIALIZATION"==el[0].getAttribute("data-sid")||"SPECIALIZATION"==el[0].getAttribute("name");void 0===el[0]||void 0===el[0].tagName||"SELECT"!=el[0].tagName||bSpecialization?bSpecialization&&(el[0].removeAttribute("readonly"),el.find('option[data-id="'+value+'"]').attr("selected",!0)):(el.find('option[data-id="'+value+'"]').attr("selected",!0),value&&$(el).closest("form").find("select option").each((function(){var dataID=$(this).data("id").toString(),arDataID;-1!=(-1!=dataID.indexOf(",")?dataID.split(","):[dataID]).indexOf(value.toString())?$(this).show():$(this).hide()})),el.closest(".row[data-sid]").show())}),BX.addCustomEvent("formCustomHandlers",eventdata=>{const selector=".form form select[name=SPECIALIZATION]:not(.inited), .form form select[data-sid=SPECIALIZATION]",$date=$("input#POPUP_DATE");if("function"!=typeof dateTimePickerInit||$date.data("datetimepicker"))return;let datetimepickerParams;dateTimePickerInit({minView:2},".form form input.date"),$(selector).on("change",(function(){const $this=$(this),$selectSpecialist=$this.closest("form").find("select[name=SPECIALIST], select[data-sid=SPECIALIST]"),$selectSpecialistWrapper=$selectSpecialist.closest("div[data-sid='SPECIALIST']"),animationTime=200;let arID="all";void 0!==$this.find("option:selected").data("id")&&(arID=-1!=$this.find("option:selected").data("id").toString().indexOf(",")?$this.find("option:selected").data("id").split(","):[$this.find("option:selected").data("id").toString()]),$selectSpecialist.length&&!$selectSpecialist.attr("readonly")&&(-1==arID.indexOf($selectSpecialist.find("option:selected").data("id").toString())&&$selectSpecialist.find("option").eq(0).attr("selected",!0).closest("select").val(""),"all"==arID[0]?($selectSpecialist.find("option").show(),$selectSpecialistWrapper.is(":visible")&&$selectSpecialistWrapper.fadeOut(200)):$selectSpecialist.find("option").each((function(){let ID="";void 0!==$(this).data("id")&&(ID="number"==typeof $(this).data("id")?$(this).data("id").toString():$(this).data("id")),-1!=arID.indexOf(ID)||"all"==$(this).data("id")?$(this).show():$(this).hide()})).promise().done((function(){$selectSpecialistWrapper.is(":visible")||"block"!==$selectSpecialist.find("option").css("display")||$selectSpecialistWrapper.fadeIn()})))})),$(selector).addClass("inited")});